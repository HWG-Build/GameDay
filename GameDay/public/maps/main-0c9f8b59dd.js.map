{"version":3,"sources":["Scripts/js/site.ts"],"names":["showDetails","id","$","html","result","getCoor","loadEditScreen","initMap","latitude","longitude","zoom","exist","status","google","maps","GeocoderStatus","OK","lat","results","geometry","location","lng","map","setCenter","Marker","position","viewport","fitBounds","console","log","Address","submit","e","preventDefault","inputs","values","each","this","name","val","url","ajax","type","data","__RequestVerificationToken","Name","Game","DateTime","AddressId","success","load","ID","PlayersAttending","on","removeClass","addClass"],"mappings":"AAsCA,QAAAA,aAAqBC,GACjBD,EAAEA,QAAQA,YAAYA,SACtBA,IAAIA,GAAMA,kBAAoBA,CAC9BA,GAAEA,MACEA,KAAMA,MACNA,IAAKA,EACLA,KAAMA,KACNA,QAASA,SAAUA,GACfE,EAAE,qBAAqBC,KAAKC,GAC5BC,aA0CZ,QAAAC,gBAAwBL,GACpBK,GAAIA,GAAMA,eAAiBA,CAC3BA,GAAEA,qBAAqBA,KAAKA,GAC5BA,EAAEA,QAAQA,SAASA,UAOvB,QAAAC,SAAiBC,EAAkBC,EAAmBC,EAAcC,GAEhEJ,GAAIA,GAAWA,GAAIA,QAAOA,KAAKA,OAAOA,WAAWA,GAAWA,WAAWA,IAEnEA,GACAA,OAAQA,EACRA,KAAMA,EAGVA,KAAMA,GAAIA,QAAOA,KAAKA,IAAIA,SAASA,eAAeA,OAAQA,GAK9D,QAAAF,WACIA,GAAIA,GAAUA,EAAEA,gBAAgBA,OAE5BA,EAAOA,GAAIA,QAAOA,KAAKA,QAC3BA,GAAKA,SAAUA,QAASA,GAAWA,SAAUA,EAASA,GAClD,GAAIO,GAAUC,OAAOC,KAAKC,eAAeC,GAAI,CACzC,GAAIC,GAAMC,EAAQ,GAAGC,SAASC,SAASH,MACnCI,EAAMH,EAAQ,GAAGC,SAASC,SAASC,KACvCd,SAAQU,EAAKI,EAAK,IAAI,GAEtBC,IAAIC,UAAUL,EAAQ,GAAGC,SAASC,SAElC,EAAa,GAAIP,QAAOC,KAAKU,QAErBF,IAAKA,IACLG,SAAUP,EAAQ,GAAGC,SAASC,WAElCF,EAAQ,GAAGC,SAASO,UACpBJ,IAAIK,UAAUT,EAAQ,GAAGC,SAASO,cAEtCE,SAAQC,IAAI,wDAA0DjB,KAhIlF,GAAAkB,SAAA,WAAAA,QAAAA,MAMAA,MAAAA,KAEA5B,GAAE,iBAAiB6B,OAAO,SAAUC,GAChCA,EAAEC,gBACF,IAAIC,GAAShC,EAAE,sBACXiC,IACJD,GAAOE,KAAK,WACRD,EAAOE,KAAKC,MAAQpC,EAAEmC,MAAME,OAEhC,IAAIC,GAAM,eACVtC,GAAEuC,MACEC,KAAM,OACNF,IAAKA,EACLG,MACIC,2BAA4B1C,EAAE,wCAAwCqC,MACtEM,KAAMV,EAAa,KACnBW,KAAMX,EAAa,KACnBY,SAAUZ,EAAiB,SAC3Ba,UAAWb,EAAkB,WAEjCc,QAAS,SAAU7C,GACfF,EAAE,iBAAiBgD,KAAK,qBAuBpChD,EAAE,mBAAmB6B,OAAO,SAASC,GACjCA,EAAEC,gBACF,IAAIC,GAAShC,EAAE,0BACXiC,IACJD,GAAOE,KAAK,WACRD,EAAOE,KAAKC,MAAQpC,EAAEmC,MAAME,OAEhC,IAAIC,GAAM,eAAiBL,EAAW,EACtCjC,GAAEuC,MACEC,KAAM,OACNF,IAAKA,EACLG,MACIC,2BAA4B1C,EAAE,wCAAwCqC,MACtEY,GAAIhB,EAAW,GACfU,KAAMV,EAAa,KACnBW,KAAMX,EAAa,KACnBY,SAAUZ,EAAiB,SAC3Ba,UAAWb,EAAkB,UAC7BiB,iBAAkBjB,EAAyB,kBAE/Cc,QAAS,SAAS7C,GACdJ,YAAYmC,EAAW,IACvBjC,EAAE,iBAAiBgD,KAAK,qBAMpChD,EAAE,mBAAmBmD,GAAG,QAAS,WAC7BnD,EAAE,oCAAoCoD,YAAY,iBAClDpD,EAAEmC,MAAMkB,SAAS","file":"main-0c9f8b59dd.js","sourcesContent":["declare var $: any;\r\ndeclare var google: any;\r\ndeclare var map: any;\r\n\r\n//Address class which im not using\r\nclass Address {\r\n    line1: string;\r\n    line2: string;\r\n    city: string;\r\n    state: string;\r\n    zip: number;\r\n}\r\n\r\n$('#createButton').submit(function (e) {\r\n    e.preventDefault();\r\n    var inputs = $('#createForm :input');\r\n    var values = {};\r\n    inputs.each(function () {\r\n        values[this.name] = $(this).val();\r\n    });\r\n    var url = '/Event/Create';\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        data: {\r\n            __RequestVerificationToken: $('[name= \"__RequestVerificationToken\"]').val(),\r\n            Name: values['Name'],\r\n            Game: values['Game'],\r\n            DateTime: values['DateTime'],\r\n            AddressId: values['AddressId']\r\n        },\r\n        success: function (result) {\r\n            $('#EventListDiv').load('/Event/Index');\r\n        }\r\n    });\r\n});\r\n\r\n//show details of the event clicked in the event list\r\nfunction showDetails(id: number) {\r\n    $('#map').removeClass('hidden');\r\n    var url = '/Event/Details/' + id;\r\n    $.ajax({\r\n        type: \"GET\",\r\n        url: url,\r\n        data: null,\r\n        success: function (result) {\r\n            $('#DetailsContainer').html(result);\r\n            getCoor();\r\n        },\r\n    });\r\n};\r\n\r\n\r\n//The save button on the edit screen saves the information, while reloading the updated \r\n//details page and updates the event list page all without refreshing the page\r\n$('#editDetailForm').submit(function(e) {\r\n    e.preventDefault();\r\n    var inputs = $('#editDetailForm :input');\r\n    var values = {};\r\n    inputs.each(function () {\r\n        values[this.name] = $(this).val();\r\n    });\r\n    var url = '/Event/Edit/' + values['ID'];\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        data: {\r\n            __RequestVerificationToken: $('[name= \"__RequestVerificationToken\"]').val(),\r\n            ID: values['ID'],\r\n            Name: values['Name'],\r\n            Game: values['Game'],\r\n            DateTime: values['DateTime'],\r\n            AddressId: values['AddressId'],\r\n            PlayersAttending: values['PlayersAttending']\r\n        },\r\n        success: function(result) {\r\n            showDetails(values['ID']);\r\n            $('#EventListDiv').load('/Event/Index');\r\n        }\r\n    });\r\n});\r\n\r\n//Highlight the event click in the event list\r\n$('.eventContainer').on('click', function () {\r\n    $('#EventListDiv>div .panel-primary').removeClass(\"panel-primary\");\r\n    $(this).addClass(\"panel-primary\");\r\n});\r\n\r\n//load the edit screen of the event when the \"edit\" button is clicked\r\nfunction loadEditScreen(id: number) {\r\n    var url = '/Event/Edit/' + id;\r\n    $('#DetailsContainer').load(url);\r\n    $('#map').addClass('hidden');\r\n}\r\n\r\n\r\n//----------------------------Google Maps---------------------------------//\r\n\r\n//this function loads the google maps onto the page\r\nfunction initMap(latitude: string, longitude: string, zoom: number, exist:boolean) {\r\n//assign lat and long to a google variable\r\n    var myLatlng = new google.maps.LatLng(parseFloat(latitude), parseFloat(longitude));\r\n    //give the map the settings we want\r\n    var mapOptions = {\r\n        center: myLatlng,\r\n        zoom: zoom\r\n    };\r\n    //loads the map\r\n    map = new google.maps.Map(document.getElementById('map'), mapOptions);\r\n}\r\n    \r\n\r\n//get coordinates of the address passed to google\r\nfunction getCoor() {\r\n    var address = $('#addressElem').text();\r\n    //initialize the function that gets the google coordinates\r\n    var coor = new google.maps.Geocoder();\r\n    coor.geocode({ address: address }, function (results, status:string) {\r\n        if (status == google.maps.GeocoderStatus.OK) {\r\n            var lat = results[0].geometry.location.lat();\r\n            var lng = results[0].geometry.location.lng();\r\n            initMap(lat, lng, 16, true);\r\n            //center the map over the result\r\n            map.setCenter(results[0].geometry.location);\r\n            //place a marker at the location\r\n            var marker = new google.maps.Marker(\r\n                {\r\n                    map: map,\r\n                    position: results[0].geometry.location\r\n                });\r\n            if (results[0].geometry.viewport)\r\n                map.fitBounds(results[0].geometry.viewport);\r\n        } else {\r\n            console.log('Geocode was not successful for the following reason: ' + status);\r\n        }\r\n    });\r\n    \r\n}\r\n\r\n//----------------------------Google Maps End---------------------------------//\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":"/source/"}