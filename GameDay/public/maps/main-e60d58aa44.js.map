{"version":3,"sources":["Scripts/js/site.ts"],"names":["showDetails","id","$","html","result","getCoor","loadEditScreen","initMap","latitude","longitude","zoom","exist","status","google","maps","GeocoderStatus","OK","lat","results","geometry","location","lng","map","setCenter","Marker","position","viewport","fitBounds","console","log","Address","on","removeClass","this","addClass","chat","connection","chatHub","client","broadcastMessage","name","message","encodedName","text","encodedMsg","append","val","prompt","focus","hub","start","done","click","server","send"],"mappings":"AAcA,QAAAA,aAAqBC,GACjBD,EAAEA,QAAQA,YAAYA,SACtBA,IAAIA,GAAMA,kBAAoBA,CAC9BA,GAAEA,MACEA,KAAMA,MACNA,IAAKA,EACLA,KAAMA,KACNA,QAASA,SAAUA,GACfE,EAAE,qBAAqBC,KAAKC,GAC5BC,aAYZ,QAAAC,gBAAwBL,GACpBK,GAAIA,GAAMA,eAAiBA,CAC3BA,GAAEA,qBAAqBA,KAAKA,GAC5BA,EAAEA,QAAQA,SAASA,UAOvB,QAAAC,SAAiBC,EAAUC,EAAWC,EAAMC,GAExCJ,GAAIA,GAAWA,GAAIA,QAAOA,KAAKA,OAAOA,WAAWA,GAAWA,WAAWA,IAEnEA,GACAA,OAAQA,EACRA,KAAMA,SAASA,GAGnBA,KAAMA,GAAIA,QAAOA,KAAKA,IAAIA,SAASA,eAAeA,OAAQA,GAK9D,QAAAF,WACIA,GAAIA,GAAUA,EAAEA,gBAAgBA,OAE5BA,EAAOA,GAAIA,QAAOA,KAAKA,QAC3BA,GAAKA,SAAUA,QAASA,GAAWA,SAAUA,EAASA,GAClD,GAAIO,GAAUC,OAAOC,KAAKC,eAAeC,GAAI,CACzC,GAAIC,GAAMC,EAAQ,GAAGC,SAASC,SAASH,MACnCI,EAAMH,EAAQ,GAAGC,SAASC,SAASC,KACvCd,SAAQU,EAAKI,EAAK,IAAI,GAEtBC,IAAIC,UAAUL,EAAQ,GAAGC,SAASC,SAElC,EAAa,GAAIP,QAAOC,KAAKU,QAErBF,IAAKA,IACLG,SAAUP,EAAQ,GAAGC,SAASC,WAElCF,EAAQ,GAAGC,SAASO,UACpBJ,IAAIK,UAAUT,EAAQ,GAAGC,SAASO,cAEtCE,SAAQC,IAAI,wDAA0DjB,KA7ElF,GAAIU,KAGJQ,QAAA,WAAAA,QAAAA,MAMAA,MAAAA,KAkBA5B,GAAE,mBAAmB6B,GAAG,QAAS,WAC7B7B,EAAE,oCAAoC8B,YAAY,iBAClD9B,EAAE+B,MAAMC,SAAS,mBA4DrBhC,EAAE,WAEE,GAAIiC,GAAOjC,EAAEkC,WAAWC,OACxBF,GAAKG,OAAOC,iBAAmB,SAAUC,EAAMC,GAC3C,GAAIC,GAAcxC,EAAE,WAAWyC,KAAKH,GAAMrC,OACtCyC,EAAa1C,EAAE,WAAWyC,KAAKF,GAAStC,MAC5CD,GAAE,eAAe2C,OAAO,eAAiBH,EACnC,yBAA2BE,EAAa,UAElD1C,EAAA,gBAAA4C,IAAAC,OAAA,mBAAA,KACA7C,EAAE,YAAY8C,QACd9C,EAAEkC,WAAWa,IAAIC,QAAQC,KAAK,WAC1BjD,EAAE,gBAAgBkD,MAAM,WACpBjB,EAAKkB,OAAOC,KAAKpD,EAAE,gBAAgB4C,MAAO5C,EAAE,YAAY4C,OACxD5C,EAAE,YAAY4C,IAAI,IAAIE","file":"main-e60d58aa44.js","sourcesContent":["declare var $: any;\r\ndeclare var google: any;\r\nvar map;\r\n\r\n//Address class which im not using\r\nclass Address {\r\n    line1: string;\r\n    line2: string;\r\n    city: string;\r\n    state: string;\r\n    zip: number;\r\n}\r\n\r\n//show details of the event clicked in the event list\r\nfunction showDetails(id: number) {\r\n    $('#map').removeClass('hidden');\r\n    var url = '/Event/Details/' + id;\r\n    $.ajax({\r\n        type: \"GET\",\r\n        url: url,\r\n        data: null,\r\n        success: function (result) {\r\n            $('#DetailsContainer').html(result);\r\n            getCoor();\r\n        },\r\n    });\r\n};\r\n\r\n//Highlight the event click in the event list\r\n$('.eventContainer').on('click', function () {\r\n    $('#EventListDiv>div .panel-primary').removeClass(\"panel-primary\");\r\n    $(this).addClass(\"panel-primary\");\r\n});\r\n\r\n//load the edit screen of the event when the \"edit\" button is clicked\r\nfunction loadEditScreen(id: number) {\r\n    var url = '/Event/Edit/' + id;\r\n    $('#DetailsContainer').load(url);\r\n    $('#map').addClass('hidden');\r\n}\r\n\r\n\r\n//----------------------------Google Maps---------------------------------//\r\n\r\n//this function loads the google maps onto the page\r\nfunction initMap(latitude, longitude, zoom, exist) {\r\n//assign lat and long to a google variable\r\n    var myLatlng = new google.maps.LatLng(parseFloat(latitude), parseFloat(longitude));\r\n    //give the map the settings we want\r\n    var mapOptions = {\r\n        center: myLatlng,\r\n        zoom: parseInt(zoom)\r\n    };\r\n    //loads the map\r\n    map = new google.maps.Map(document.getElementById('map'), mapOptions);\r\n}\r\n    \r\n\r\n//get coordinates of the address passed to google\r\nfunction getCoor() {\r\n    var address = $('#addressElem').text();\r\n    //initialize the function that gets the google coordinates\r\n    var coor = new google.maps.Geocoder();\r\n    coor.geocode({ address: address }, function (results, status) {\r\n        if (status == google.maps.GeocoderStatus.OK) {\r\n            var lat = results[0].geometry.location.lat();\r\n            var lng = results[0].geometry.location.lng();\r\n            initMap(lat, lng, 16, true);\r\n            //center the map over the result\r\n            map.setCenter(results[0].geometry.location);\r\n            //place a marker at the location\r\n            var marker = new google.maps.Marker(\r\n                {\r\n                    map: map,\r\n                    position: results[0].geometry.location\r\n                });\r\n            if (results[0].geometry.viewport)\r\n                map.fitBounds(results[0].geometry.viewport);\r\n        } else {\r\n            console.log('Geocode was not successful for the following reason: ' + status);\r\n        }\r\n    });\r\n    \r\n}\r\n\r\n//----------------------------Google Maps End---------------------------------//\r\n\r\n\r\n\r\n//----------------------------SignalR Chathub---------------------------------//\r\n\r\n$(() => {\r\n    \r\n    var chat = $.connection.chatHub;\r\n    chat.client.broadcastMessage = function (name, message) {\r\n        var encodedName = $('<div />').text(name).html();\r\n        var encodedMsg = $('<div />').text(message).html();\r\n        $('#discussion').append('<li><strong>' + encodedName\r\n            + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');\r\n    };\r\n    //$('#displayname').val(prompt('Enter your name:', ''));\r\n    $('#message').focus();\r\n    $.connection.hub.start().done(function () {\r\n        $('#sendmessage').click(function () {\r\n            chat.server.send($('#displayname').val(), $('#message').val());\r\n            $('#message').val('').focus();\r\n        });\r\n    });\r\n});\r\n\r\n//----------------------------SignalR Chathub---------------------------------//"],"sourceRoot":"/source/"}